name = "snip-redirect"
main = "src/redirect/index.ts"
compatibility_date = "2024-01-01"

# KV Namespace (read-only for redirect worker)
[[kv_namespaces]]
binding = "URL_CACHE"
id = "URL_CACHE_ID" # Replace with actual ID for production (same as API worker)
preview_id = "URL_CACHE_PREVIEW_ID"

# D1 Database (for click logging)
[[d1_databases]]
binding = "DB"
database_name = "snip-db"
database_id = "DB_ID" # Replace with actual ID for production (same as API worker)
preview_database_id = "DB_PREVIEW_ID"

# Environment Variables
[vars]
APP_DOMAIN = "snip.lento.dev"

# Dev server on different port than API worker
[dev]
port = 8788

# Routes (production)
# routes = [
#   { pattern = "s.lento.dev/*", zone_name = "lento.dev" }
# ]
